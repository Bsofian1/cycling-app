{"version":3,"sources":["utils/useLongPress.js","img/eye.svg","img/coffee.svg","img/water.svg","img/repair.svg","components/Marker.js","components/Map.js","img/menu.svg","components/Menu.js","Firebase.js","App.js","index.js"],"names":["preventDefault","event","isTouchEvent","touches","length","useLongPress","onLongPress","onClick","shouldPreventDefault","delay","useState","longPressTriggered","setLongPressTriggered","timeout","useRef","target","start","useCallback","addEventListener","passive","current","setTimeout","clear","shouldTriggerClick","clearTimeout","removeEventListener","onMouseDown","e","onTouchStart","onMouseUp","onMouseLeave","onTouchEnd","Marker","props","icon","color","removePlace","longPressEvent","$dimensionKey","console","log","WaterLogo","CoffeeLogo","ViewLogo","RepairLogo","className","style","backgroundColor","cursor","title","src","Map","places","place","Markers","Object","keys","map","id","lat","position","lng","defaultProps","center","zoom","height","width","bootstrapURLKeys","key","process","defaultCenter","defaultZoom","t","addPlace","options","disableDefaultUI","mapTypeControl","streetViewControl","styles","featureType","elementType","stylers","visibility","Menu","currentEvent","menuItemStyleWater","menuItemStyleCoffee","menuItemStyleView","menuItemStyleRepair","borderBottom","handleChangeMenu","setEvent","MenuWrapper","alt","MenuLogo","styled","div","fireDb","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","ref","App","setPlaces","useEffect","firebaseDb","child","on","snapshot","val","obj","push","err","remove","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9945954e.chunk.js","sourcesContent":["import { useCallback, useRef, useState } from \"react\";\n\nconst useLongPress = (\n    onLongPress,\n    onClick,\n    { shouldPreventDefault = true, delay = 300 } = {}\n    ) => {\n    const [longPressTriggered, setLongPressTriggered] = useState(false);\n    const timeout = useRef();\n    const target = useRef();\n\n    const start = useCallback(\n        event => {\n            if (shouldPreventDefault && event.target) {\n                    event.target.addEventListener(\"touchend\", preventDefault, {\n                    passive: false\n                });\n                target.current = event.target;\n            }\n            timeout.current = setTimeout(() => {\n                onLongPress(event);\n                setLongPressTriggered(true);\n            }, delay);\n        },\n        [onLongPress, delay, shouldPreventDefault]\n    );\n\n    const clear = useCallback(\n        (event, shouldTriggerClick = true) => {\n            timeout.current && clearTimeout(timeout.current);\n            shouldTriggerClick && !longPressTriggered && onClick();\n            setLongPressTriggered(false);\n            if (shouldPreventDefault && target.current) {\n                target.current.removeEventListener(\"touchend\", preventDefault);\n            }\n        },\n        [shouldPreventDefault, onClick, longPressTriggered]\n    );\n\n    return {\n        onMouseDown: e => start(e),\n        onTouchStart: e => start(e),\n        onMouseUp: e => clear(e),\n        onMouseLeave: e => clear(e, false),\n        onTouchEnd: e => clear(e)\n    };\n};\n\nconst isTouchEvent = event => {\nreturn \"touches\" in event;\n};\n\nconst preventDefault = event => {\nif (!isTouchEvent(event)) return;\n\nif (event.touches.length < 2 && event.preventDefault) {\n    event.preventDefault();\n}\n};\n\nexport default useLongPress;","export default __webpack_public_path__ + \"static/media/eye.132979f2.svg\";","export default __webpack_public_path__ + \"static/media/coffee.042e4394.svg\";","export default __webpack_public_path__ + \"static/media/water.283de585.svg\";","export default __webpack_public_path__ + \"static/media/repair.9e73c5ea.svg\";","import React from \"react\";\nimport \"../styles/Marker.css\";\n\nimport useLongPress from \"../utils/useLongPress\";\n\nimport ViewLogo from \"../img/eye.svg\";\nimport CoffeeLogo from \"../img/coffee.svg\";\nimport WaterLogo from \"../img/water.svg\";\nimport RepairLogo from \"../img/repair.svg\";\n\nconst Marker = (props) => {\n  let icon = null;\n  const { color, event, removePlace } = props;\n\n  //Clicks events\n  //Remove the event\n  const onLongPress = () => {\n    removePlace(props.$dimensionKey)\n  };\n\n  //Add on click on the same component that longClick\n  const onClick = () => {\n    console.log(\"click is triggered\");\n  };\n\n  const defaultOptions = {\n    shouldPreventDefault: true,\n    delay: 500,\n  };\n  const longPressEvent = useLongPress(onLongPress, onClick, defaultOptions);\n\n  //define the icon from the event name\n  if (event === \"water\") {\n    icon = WaterLogo;\n  } else if (event === \"coffee\") {\n    icon = CoffeeLogo;\n  } else if (event === \"view\") {\n    icon = ViewLogo;\n  } else {\n    icon = RepairLogo;\n  }\n\n  return (\n    <div {...longPressEvent}>\n      <div\n        className=\"pin bounce\"\n        style={{ backgroundColor: `${color}`, cursor: \"pointer\" }}\n        title={event}\n      >\n        <img src={icon} />\n      </div>\n      <div className=\"pulse\" style={{ backgroundColor: `${color}` }}></div>\n    </div>\n  );\n};\n\nexport default Marker;\n","import React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport Marker from \"./Marker\";\n\nexport default function Map(props) {\n  const places = props.place;\n\n  //Add the place marker to the map\n  const Markers = Object.keys(places).map((id) => {\n    return (\n      <Marker\n        removePlace={props.removePlace}\n        key={id}\n        lat={places[id].position.lat}\n        lng={places[id].position.lng}\n        event={places[id].event}\n        color={places[id].color}\n      />\n    );\n  });\n\n  //Add ontpion views on top left\n  const getMapOptions = () => {\n    return {\n      disableDefaultUI: true,\n      mapTypeControl: true,\n      streetViewControl: true,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [{ visibility: \"on\" }],\n        },\n      ],\n    };\n  };\n\n  //Add default view\n  const defaultProps = {\n    center: {\n      lat: 46.948,\n      lng: 7.4474,\n    },\n    zoom: 14,\n  };\n\n  return (\n    <div style={{ height: \"100vh\", width: \"100%\", position: \"relative\" }}>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_API_KEY }}\n        defaultCenter={defaultProps.center}\n        defaultZoom={defaultProps.zoom}\n        onClick={(t) => props.addPlace(t)}\n        options={getMapOptions}\n      >\n        {Markers}\n      </GoogleMapReact>\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/menu.a1380c45.svg\";","import React from \"react\";\nimport styled from \"styled-components\";\nimport CoffeeLogo from \"../img/coffee.svg\";\nimport ViewLogo from \"../img/eye.svg\";\nimport WaterLogo from \"../img/water.svg\";\nimport RepairLogo from \"../img/repair.svg\";\nimport MenuLogo from \"../img/menu.svg\";\n\nexport default function Menu(props) {\n  const currentEvent = props.event;\n\n  let menuItemStyleWater = {};\n  let menuItemStyleCoffee= {};\n  let menuItemStyleView = {};\n  let menuItemStyleRepair = {};\n\n  if (currentEvent === \"water\") {\n    menuItemStyleWater = {\n      borderBottom: \"3px solid #118ab2\",\n    };\n  }else{\n    menuItemStyleWater = {};\n  }\n  if (currentEvent === \"coffee\") {\n    menuItemStyleCoffee = {\n      borderBottom: \"3px solid #ef476f\",\n    };\n  }else{\n    menuItemStyleCoffee = {};\n  }\n  if (currentEvent === \"view\") {\n    menuItemStyleView = {\n      borderBottom: \"3px solid #06d6a0\",\n    };\n  }else{\n    menuItemStyleView = {};\n  }\n  if (currentEvent === \"repair\") {\n    menuItemStyleRepair = {\n      borderBottom: \"3px solid #ffd166\",\n    };\n  }else{\n    menuItemStyleRepair = {};\n  }\n\n\n\n  const handleChangeMenu = (event) => {\n    props.setEvent(event);\n  };\n\n  return (\n    <div>\n      <MenuWrapper>\n        <ul>\n          <li style={menuItemStyleCoffee}>\n            <button onClick={() => handleChangeMenu(\"coffee\")}>\n              <img src={CoffeeLogo} alt=\"\" />\n            </button>\n          </li>\n          <li style={menuItemStyleView}>\n            <button onClick={() => handleChangeMenu(\"view\")}>\n              <img src={ViewLogo} alt=\"\" />\n            </button>\n          </li>\n          <li style={menuItemStyleWater}>\n            <button onClick={() => handleChangeMenu(\"water\")}>\n              <img src={WaterLogo} alt=\"\" />\n            </button>\n          </li>\n          <li style={menuItemStyleRepair}>\n            <button onClick={() => handleChangeMenu(\"repair\")}>\n              <img src={RepairLogo} alt=\"\" />\n            </button>\n          </li>\n          <li>\n            <button onClick={() => handleChangeMenu(\"\")}>\n              <img src={MenuLogo} alt=\"\" />\n            </button>\n          </li>\n        </ul>\n      </MenuWrapper>\n    </div>\n  );\n}\n\nconst MenuWrapper = styled.div`\n  position: absolute;\n\n  //background-color\n  background: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  border-radius: 10px;\n  bottom: 0;\n\n  //center horizontal\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 10%;\n  max-height: 100px;\n  width: 80%;\n\n  ul {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: right;\n    list-style-type: none;\n    justify-content: space-around;\n    align-items: center;\n    li {\n      height: 100%;\n\n      button {\n        margin-top: 30px;\n        border: none;\n        background-color: transparent;\n        width: 50px;\n        height: 50px;\n        border-radius: 50%;\n        img {\n          width: 25px;\n          color: black;\n        }\n        @media(max-width: 500px){\n        margin-top: 15px;\n      }\n      }\n      @media(max-width: 500px){\n        margin-top: 0;\n      }\n      button:active {\n        box-shadow: 0 3px 12px 0 rgba(31, 38, 135, 0.17);\n      }\n    }\n  }\n`;\n","import firebase from 'firebase'\n\n var firebaseConfig = {\n    apiKey: \"AIzaSyC5n5sxz4Vy-tNjtx805LDYTMwzybEaGNU\",\n    authDomain: \"cycling-app-318315.firebaseapp.com\",\n    databaseURL: \"https://cycling-app-318315-default-rtdb.europe-west1.firebasedatabase.app\",\n    projectId: \"cycling-app-318315\",\n    storageBucket: \"cycling-app-318315.appspot.com\",\n    messagingSenderId: \"72527731398\",\n    appId: \"1:72527731398:web:49e4358089ed28b23b15c7\"\n  };\n  // Initialize Firebase\n var fireDb =  firebase.initializeApp(firebaseConfig);\n\n export default fireDb.database().ref()","import \"./App.js\";\n\nimport Map from \"./components/Map\";\nimport Menu from \"./components/Menu\";\nimport React, { useState, useEffect } from \"react\";\n\nimport firebaseDb from \"./Firebase\";\n\n\n\nfunction App() {\n  const [event, setEvent] = useState(\"\");\n\n  const [places, setPlaces] = useState({});\n\n  useEffect(() => {\n    firebaseDb.child(\"places\").on(\"value\", (snapshot) => {\n      if (snapshot.val() != null) {\n        setPlaces({\n          ...snapshot.val(),\n        });\n      } else {\n        setPlaces({});\n      }\n    });\n  }, []);\n\n  const addDb = (obj) => {\n    firebaseDb.child(\"places\").push(obj, (err) => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const addPlace = (e) => {\n    if (event) {\n      const lat = e.lat;\n      const lng = e.lng;\n      const currentEvent = event;\n\n      let color = null;\n      if (currentEvent === \"water\") {\n        color = \"#118ab2\";\n      } else if (currentEvent === \"coffee\") {\n        color = \"#ef476f\";\n      } else if (currentEvent === \"view\") {\n        color = \"#06d6a0\";\n      } else {\n        color = \"#ffd166\";\n      }\n\n      const newValues = {\n        event: currentEvent,\n        icon: null,\n        position: { lat: lat, lng: lng },\n        color: color,\n      };\n\n      addDb(newValues);\n    }\n  };\n\n  const removePlace = (id) => {\n    console.log(id);\n    firebaseDb.child(`places/${id}`).remove((err) => {\n      if (err) {\n        console.log(err);}\n      // } else {\n      //   setPlaces({});\n      // }\n    });\n  };\n\n  return (\n    <div>\n      <Map\n        addPlace={addPlace}\n        place={places}\n        removePlace={removePlace}\n      />\n      <Menu event={event} setEvent={setEvent} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./styles.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}